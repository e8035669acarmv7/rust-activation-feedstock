cross_target_platform:
  - linux-armv7l                        # [linux64 or armv7l]
rust_arch:
  - armv7-unknown-linux-gnueabihf       # [linux64 or armv7l]

rust_arch_env_build:
  - X86_64_UNKNOWN_LINUX_GNU            # [linux64]
  - ARMV7_UNKNOWN_LINUX_GNUEABIHF       # [armv7l]

rust_arch_env:
  - ARMV7_UNKNOWN_LINUX_GNUEABIHF       # [linux64 or armv7l]

rust_default_cc_build:
  - x86_64-conda-linux-gnu-cc           # [linux64]
  - armv7l-conda-linux-gnueabihf-cc     # [armv7l]

rust_default_cc:
  - armv7l-conda-linux-gnueabihf-cc     # [linux64 or armv7l]

# This should be max(build_platform_ver, cross_target_platform_ver)
MACOSX_SDK_VERSION:
  - 0                                   # [linux64 or armv7l]
# This should match cross_target_platform_ver
MACOSX_DEPLOYMENT_TARGET:
  - 0                                   # [linux64 or armv7l]

# Don't call it c_stdlib_version as otherwise, we will get conflicts with cdt_name zipping
# This is also the version for the target, not the host (for cross-compilers)
target_c_stdlib_version:
  - '2.17'                              # [linux64 or armv7l]
version:
  - 1.79.0  # [linux]
channel_sources:
  - conda-forge  # [linux]
channel_targets:
  - conda-forge main  # [linux]
zip_keys:
  - - cross_target_platform
    - rust_arch
    - rust_arch_env
    - rust_default_cc
    - MACOSX_SDK_VERSION
    - MACOSX_DEPLOYMENT_TARGET
    - target_c_stdlib_version
    - channel_sources
    - channel_targets
    - version
docker_image:
  - e8035669/linux-anvil-armv7l # [os.environ.get("BUILD_PLATFORM") == "linux-armv7l"]
